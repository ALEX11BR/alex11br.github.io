---
title: "Gxhk"
date: 2021-12-24T03:03:12+02:00
draft: false
---
[Gxhk](https://github.com/ALEX11BR/gxhk) is an application that I made. It is a hotkey daemon for X, something in the vein of [`sxhkd`](https://github.com/baskerville/sxhkd), if you know what it is (if not, then this app is not for you, probably). When hotkeys (such as Alt+F1) get pressed (or released), the user can run various commands with the help of the hotkey daemon. My hotkey daemon has some unique features: it can be configured on the fly using a socket (similarly to [`bspwm`](https://github.com/baskerville/bspwm) for those who know it ðŸ˜‰) to listen to certain hotkeys and execute their commands, or to stop listening to some hotkeys, or show infos about the currently grabbed hotkeys and their associated commands. This app works only on Linux & friends, on X desktops (not on Wayland).

I initially planned to write this app in Rust, the hot language right now. That being said, there weren't satisfactory bindings of the X libraries to Rust that could convert keysyms (numbers representing precisely the symbols on the keys of the keyboard) to keycodes (8-bit numbers that represent to the X server the keys of a desktop user), so I contemplated other languages for this project of an X hotkey daemon configurable like `bspwm`, and found Go to be a good option as a low-level language for my project, as they had good X binding with a helper library called [`xgbutil`](https://github.com/jezek/xgbutil/) which even provided a hotkey parser readily done, how lovely! I went on to make the rest of the app to the point it has now a reasonable feature set.

Honestly I am a little bit frustrated that `xgbutil` doesn't have a method of converting keysyms to the string which names them, but rather to the string they output (these aren't the same, e.g. "bar" vs "|"), and that makes me store the information about the bound keys necessary for displaying it on demand in a manner which can cause bugs, and I don't like. I could fork the `xgbutil` to create the function that I need, as it's basically done and sees no contributions anymore, and also fix some small stuff. I also think of using other methods of listening to keys that aren't tied to the X protocol. I will see. But I'm for the moment done with this stuff... I need to sleep...
